<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë””ì§€í„¸ ë³µì£¼ë¨¸ë‹ˆ ë½‘ê¸°</title>
    <!-- Google Fonts: í•œêµ­ì ì¸ ëŠë‚Œì˜ í°íŠ¸ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #1a1a2e;
            --text-gold: #ffd700;
            --k-red: #d32f2f;
            --k-blue: #1976d2;
            --k-green: #388e3c;
            --k-yellow: #fbc02d;
            --k-pink: #e91e63;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Gowun Batang', serif;
        }

        body {
            background-color: var(--bg-color);
            background-image: 
                radial-gradient(circle at 50% 50%, rgba(25, 25, 60, 0.9), #050510),
                url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            position: relative;
        }

        h1 {
            position: absolute;
            top: 10%;
            font-size: 2.5rem;
            color: var(--text-gold);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            z-index: 10;
            text-align: center;
            width: 100%;
        }

        .subtitle {
            position: absolute;
            top: 18%;
            font-size: 1.2rem;
            color: #ddd;
            z-index: 10;
            opacity: 0.8;
        }

        /* ë³µì£¼ë¨¸ë‹ˆ ì»¨í…Œì´ë„ˆ */
        .bag-container {
            position: relative;
            width: 100%;
            height: 60%;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
        }

        /* ë³µì£¼ë¨¸ë‹ˆ ìŠ¤íƒ€ì¼ */
        .lucky-bag {
            width: 120px;
            height: 140px;
            cursor: pointer;
            position: absolute;
            transition: transform 0.3s ease;
            filter: drop-shadow(0 10px 10px rgba(0,0,0,0.5));
        }

        .lucky-bag:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 15px var(--text-gold));
        }

        /* ë‘¥ì‹¤ë‘¥ì‹¤ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(2deg); }
        }

        /* ë³µì£¼ë¨¸ë‹ˆ SVG ë‚´ë¶€ ìŠ¤íƒ€ì¼ */
        .bag-body { fill: var(--bag-color); }
        .bag-ribbon { fill: var(--text-gold); }
        .bag-knot { fill: white; }
        .bag-text { 
            fill: white; 
            font-size: 24px; 
            font-weight: bold; 
            text-anchor: middle;
            opacity: 0.8;
        }

        /* ëª¨ë‹¬ (ê²°ê³¼ ì°½) */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: #fffaf0; /* í•œì§€ ëŠë‚Œ */
            width: 80%;
            max-width: 400px;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
            border: 2px solid var(--text-gold);
            position: relative;
            animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            color: #333;
        }

        .modal-title {
            font-size: 1.5rem;
            color: var(--k-red);
            margin-bottom: 20px;
            font-weight: bold;
        }

        .modal-message {
            font-size: 2rem;
            font-weight: bold;
            color: #1a1a2e;
            margin: 20px 0;
            word-break: keep-all;
            line-height: 1.4;
        }

        .close-btn {
            background-color: var(--k-blue);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 20px;
            transition: background 0.3s;
        }

        .close-btn:hover {
            background-color: #0d47a1;
        }

        @keyframes popIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* í­ì£½ íŒŒí‹°í´ */
        .particle {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            pointer-events: none;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; top: 5%; }
            .lucky-bag { width: 90px; height: 110px; }
            .modal-message { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <h1>ìƒˆí•´ ë³µ ë§ì´ ë°›ìœ¼ì„¸ìš”</h1>
    <div class="subtitle">ë§ˆìŒì— ë“œëŠ” ë³µì£¼ë¨¸ë‹ˆë¥¼ ëˆŒëŸ¬ë³´ì„¸ìš”!</div>

    <div class="bag-container" id="bagContainer">
        <!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë³µì£¼ë¨¸ë‹ˆ ìƒì„± -->
    </div>

    <!-- ê²°ê³¼ ëª¨ë‹¬ -->
    <div class="modal-overlay" id="modal">
        <div class="modal-content">
            <div class="modal-title">ğŸ‰ ë‹¹ì²¨!</div>
            <div class="modal-message" id="resultMessage">ë©”ì„¸ì§€</div>
            <button class="close-btn" onclick="closeModal()">í™•ì¸</button>
        </div>
    </div>

    <script>
        // ì„¤ì • ë°ì´í„°
        const messages = [
            "ğŸ¤ ë…¸ë˜ í•œ ê³¡ ë¶€ë¥´ê¸°",
            "ğŸ½ï¸ ì„¤ê±°ì§€ 1íšŒ ë©´ì œê¶Œ",
            "ğŸ’¸ ìš©ëˆ 1ë§Œì› ë°›ê¸°",
            "ğŸ’† ì•ˆë§ˆ 10ë¶„ í•´ë“œë¦¬ê¸°",
            "ğŸ— ì¹˜í‚¨ ì˜ê¸° ë‹¹ì²¨!",
            "ğŸ§ ì†Œì› í•˜ë‚˜ ë“¤ì–´ì£¼ê¸°",
            "â˜• ì»¤í”¼ í•œ ì” ì‚¬ì˜¤ê¸°",
            "ğŸ’– ì‚¬ë‘í•´ë¼ê³  í¬ê²Œ ì™¸ì¹˜ê¸°",
            "ğŸ« ì´ˆì½œë¦¿ í•˜ë‚˜ ë°›ê¸°",
            "ğŸ€ ì˜¬ í•œ í•´ í–‰ìš´ ê°€ë“!"
        ];

        const bagColors = [
            "#d32f2f", // Red
            "#1976d2", // Blue
            "#fbc02d", // Yellow
            "#388e3c", // Green
            "#e91e63"  // Pink
        ];

        const container = document.getElementById('bagContainer');

        // ë³µì£¼ë¨¸ë‹ˆ SVG ìƒì„± í•¨ìˆ˜
        function createBagSVG(color, index) {
            return `
            <svg viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="shadow${index}" x="-20%" y="-20%" width="140%" height="140%">
                        <feDropShadow dx="0" dy="4" stdDeviation="4" flood-color="rgba(0,0,0,0.3)"/>
                    </filter>
                </defs>
                <!-- ì£¼ë¨¸ë‹ˆ ëª¸í†µ -->
                <path d="M10,40 Q5,110 50,115 Q95,110 90,40 Q90,20 50,20 Q10,20 10,40 Z" fill="${color}" stroke="#fff" stroke-width="2" filter="url(#shadow${index})"/>
                <!-- ì£¼ë¨¸ë‹ˆ ì…êµ¬ ì£¼ë¦„ -->
                <path d="M15,35 Q50,5 85,35 L90,25 Q50,-5 10,25 Z" fill="${color}" stroke="#fff" stroke-width="1"/>
                <!-- ë§¤ë“­ ë¦¬ë³¸ -->
                <path d="M30,35 Q50,55 70,35" stroke="#ffd700" stroke-width="4" fill="none"/>
                <circle cx="50" cy="35" r="5" fill="#fff" stroke="#ffd700" stroke-width="2"/>
                <path d="M50,35 L40,60 M50,35 L60,60" stroke="#ffd700" stroke-width="3" stroke-linecap="round"/>
                <!-- ë³µ ê¸€ì -->
                <text x="50" y="85" class="bag-text">ç¦</text>
            </svg>
            `;
        }

        // ë³µì£¼ë¨¸ë‹ˆ ë°°ì¹˜ ë° ìƒì„±
        function initBags() {
            // í™”ë©´ ì¤‘ì•™ì„ ê¸°ì¤€ìœ¼ë¡œ ì•½ê°„ì”© í¼ì§€ê²Œ ë°°ì¹˜
            const positions = [
                { left: '10%', top: '20%' },
                { left: '30%', top: '50%' },
                { left: '50%', top: '10%' },
                { left: '70%', top: '40%' },
                { left: '85%', top: '15%' }
            ];

            // ëª¨ë°”ì¼ì¼ ê²½ìš° ìœ„ì¹˜ ì¡°ì •
            const isMobile = window.innerWidth < 600;
            const mobilePositions = [
                { left: '10%', top: '10%' },
                { left: '60%', top: '20%' },
                { left: '20%', top: '40%' },
                { left: '65%', top: '60%' },
                { left: '30%', top: '75%' }
            ];

            const finalPositions = isMobile ? mobilePositions : positions;

            bagColors.forEach((color, index) => {
                const bag = document.createElement('div');
                bag.classList.add('lucky-bag');
                bag.innerHTML = createBagSVG(color, index);
                
                // ìœ„ì¹˜ ì„¤ì •
                bag.style.left = finalPositions[index].left;
                bag.style.top = finalPositions[index].top;
                
                // ë‘¥ì‹¤ë‘¥ì‹¤ ì• ë‹ˆë©”ì´ì…˜ ëœë¤í™” (ìì—°ìŠ¤ëŸ½ê²Œ)
                const duration = 2 + Math.random() * 2; // 2~4ì´ˆ
                const delay = Math.random() * 2;
                bag.style.animation = `float ${duration}s ease-in-out infinite alternate ${delay}s`;

                // í´ë¦­ ì´ë²¤íŠ¸
                bag.addEventListener('click', (e) => {
                    popBag(e, bag);
                });

                container.appendChild(bag);
            });
        }

        // ë³µì£¼ë¨¸ë‹ˆ í´ë¦­ ì‹œ íš¨ê³¼ ë° ë¡œì§
        function popBag(event, element) {
            // 1. í­ì£½ íš¨ê³¼ (ì…ì ìƒì„±)
            createParticles(event.clientX, event.clientY);

            // 2. ë³µì£¼ë¨¸ë‹ˆ ì‚¬ë¼ì§ (í˜¹ì€ ì—´ë¦° ëª¨ì–‘ìœ¼ë¡œ ë³€ê²½)
            element.style.transform = "scale(0)";
            element.style.opacity = "0";
            
            // 3. ì•½ê°„ì˜ ë”œë ˆì´ í›„ ê²°ê³¼ ëª¨ë‹¬ í‘œì‹œ
            setTimeout(() => {
                const randomMsg = messages[Math.floor(Math.random() * messages.length)];
                showModal(randomMsg);
                
                // ë³µì£¼ë¨¸ë‹ˆ ë³µêµ¬ (ì„ íƒ ì‚¬í•­: ê²Œì„ì„ ê³„ì† í•˜ë ¤ë©´ ì£¼ì„ í•´ì œ)
                // setTimeout(() => {
                //    element.style.transform = "scale(1)";
                //    element.style.opacity = "1";
                // }, 2000);
            }, 300);
        }

        // íŒŒí‹°í´ í­ì£½ íš¨ê³¼ ìƒì„±
        function createParticles(x, y) {
            const particleCount = 30;
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#ffffff'];

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // ëœë¤ ìƒ‰ìƒ
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                
                // ì‹œì‘ ìœ„ì¹˜
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                
                // ëœë¤ ë°©í–¥ ë° ê±°ë¦¬ ê³„ì‚°
                const angle = Math.random() * Math.PI * 2;
                const velocity = 50 + Math.random() * 100; // í¼ì§€ëŠ” ê±°ë¦¬
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity;
                
                particle.style.setProperty('--tx', `${tx}px`);
                particle.style.setProperty('--ty', `${ty}px`);
                
                document.body.appendChild(particle);
                
                // ì• ë‹ˆë©”ì´ì…˜ í›„ ì‚­ì œ
                particle.addEventListener('animationend', () => {
                    particle.remove();
                });
            }
        }

        // ëª¨ë‹¬ ì œì–´
        const modal = document.getElementById('modal');
        const resultText = document.getElementById('resultMessage');

        function showModal(msg) {
            resultText.innerText = msg;
            modal.style.display = 'flex';
        }

        function closeModal() {
            modal.style.display = 'none';
        }

        // ì´ˆê¸°í™” ì‹¤í–‰
        initBags();

    </script>
</body>
</html>